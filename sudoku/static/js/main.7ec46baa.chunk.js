(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{72:function(e,t,n){e.exports=n(82)},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),i=n.n(o),c=n(14),l=n(112),s=n(87),u=n(116),m=n(117),d=n(111),h=n(114),f=n(115),b=n(58),p=n.n(b),v=n(59),g=n.n(v),k=n(60),E=n.n(k),C=n(61),x=n.n(C),O=n(38),w=n.n(O),j=n(24),S=n(15),y=n(9),N=n(64),B=n(63),R=function e(t,n,a,r,o){var i=this;Object(S.a)(this,e),this.SetNumber=function(e){i.SetValue(e),i.callback.Duplicates()},this.SetValue=function(e){void 0!==i.SetFinalNumber&&i.SetFinalNumber(e),i.number=e},this.SetValueError=function(e){void 0!==i.SetError&&i.SetError(e),i.error=e},this.SetValueOptions=function(e){void 0!==i.SetOptions&&i.SetOptions(e),i.options=e},this.number="",this.options=new Set([1,2,3,4,5,6,7,8,9]),this.x=t,this.y=n,this.i=a,this.j=r,this.locked=!1,this.callback=o,this.error=!1},L=function e(t,n,a){var r=this;Object(S.a)(this,e),this.Duplicates=function(){r.callback.CleanDuplicated(),r.callback.CheckDuplicates()},this.x=t,this.y=n,this.callback=a,this.submatrix=[],this.checklist=[];for(var o=0;o<3;o++){for(var i=[],c=0;c<3;c++)i[c]=new R(t,n,o,c,this),this.checklist.push(i[c]),this.callback.verticallines[t][o].push(i[c]),this.callback.horizontallines[n][c].push(i[c]),this.callback.list.push(i[c]);this.submatrix[o]=i}},z=function(e){Object(N.a)(n,e);var t=Object(B.a)(n);function n(e){var a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(S.a)(this,n),(a=t.call(this)).RandomNumbers=function(e){var t=Object(y.a)(a);if(e>81||e<1)throw console.error("number out of range");for(var n=Object(j.a)(t.emptyspaces),r=0;r<e;r++){var o=Math.floor(Math.random()*(n.length-1)),i=n[o],c=t.matrix[i[0]][i[1]].submatrix[i[2]][i[3]];c.SetValue(Math.floor(1+8*Math.random())),t.CleanDuplicated(),t.CheckDuplicates()>0?(c.number="",r--):(c.locked=!0,c.options.clear(),n.splice(o,1))}},a.CreateBoard=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(y.a)(a);if(e>81||e<1)throw Error("number out of range");n.RandomNumbers(27);try{n.Resolve()}catch(r){n.errorcount+=1,console.log(r.message,n.errorcount,"deep:",t),n.CreateEmptyBoard(),n.CreateBoard(e,t+1)}0===t&&n.CleanBoard(e)},a.CleanBoard=function(e){var t=Object(y.a)(a);if(e>81||e<1)throw console.error("number out of range");for(var n=t.emptyspaces,r=0;r<e;r++){var o=Math.floor(Math.random()*(n.length-1)),i=n[o];t.matrix[i[0]][i[1]].submatrix[i[2]][i[3]].locked=!0,n.splice(o,1)}for(var c=0;c<n.length;c++){var l=n[c],s=t.matrix[l[0]][l[1]].submatrix[l[2]][l[3]];s.locked=!1,s.number=""}},a.Resolve=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(y.a)(a),n=1;n>0;)n=0,0===(n+=t.FillSingleOption())&&(n+=t.FillByLine());if(!t.CheckCompleteBoard()){var r=t.CloneBoard(),o=t.Random(),i=Object(j.a)(o.options);o.number=i[0];for(var c=0,l=0;!t.CheckCompleteBoard()&&o.number!==c&&void 0!==o.number;){c=o.number,t.RestoreBoard(r),o.number=c;try{t.Resolve(e+1)}catch(s){console.log(s.message,t.errorcount,"Submatrix","deep:",e)}finally{i!==o.options?i=Object(j.a)(o.options):l++,o.number=i[l]}}t.CheckCompleteBoard()?(o.SetValue(o.number),o.options.clear()):t.Resolve()}},a.CloneBoard=function(){for(var e=Object(y.a)(a),t=[],n=0;n<e.list.length;n++){var r=e.list[n];t.push({x:r.x,y:r.y,i:r.i,j:r.j,number:r.number,options:Object(j.a)(r.options),locked:r.locked,error:r.error})}return t},a.RestoreBoard=function(e){for(var t=Object(y.a)(a),n=0;n<e.length;n++){var r=e[n],o=t.matrix[r.x][r.y].submatrix[r.i][r.j];o.SetValue(r.number),o.SetValueOptions(new Set(r.options)),o.locked=r.locked,o.SetValueError(r.error)}},a.CheckCompleteBoard=function(){for(var e=Object(y.a)(a),t=0;t<e.list.length;t++){if(""===e.list[t].number)return!1}return!0},a.Random=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=Object(y.a)(a),n=0;n<t.list.length;n++){var r=t.list[n];if(""===r.number&&(t.CheckOptions(r),r.options.size<e))return r}return t.Random(e+1)},a.FillSingleOption=function(){for(var e=Object(y.a)(a),t=0,n=0;n<e.list.length;n++){var r=e.list[n];""===r.number&&(e.CheckOptions(r),1===r.options.size&&(r.SetValue(r.options.values().next().value),r.options.clear(),t++))}return t},a.FillByLine=function(){for(var e=Object(y.a)(a),t=0,n=0;n<e.list.length;n++){var r=e.list[n];""===r.number&&e.CheckUnique(r)&&(r.options.clear(),t++)}return t},a.CheckUnique=function(e){var t=Object(y.a)(a),n=0,r=e.x,o=e.y,i=e.i,c=e.j;return(0!==(n=t.UniqueList(t.matrix[r][o].checklist,e))||0!==(n=t.UniqueList(t.verticallines[r][i],e))||0!==(n=t.UniqueList(t.horizontallines[o][c],e)))&&(e.SetValue(n),!0)},a.UniqueList=function(e,t){for(var n=Object(y.a)(a),r=new Set,o=0;o<e.length;o++){var i=e[o];""===i.number&&i!==t&&(n.CheckOptions(i),r=new Set([].concat(Object(j.a)(r),Object(j.a)(i.options))))}n.CheckOptions(t);var c=new Set(Object(j.a)(t.options).filter((function(e){return!r.has(e)})));return 1===c.size?c.values().next().value:0},a.CheckOptions=function(e){var t=Object(y.a)(a),n=new Set([1,2,3,4,5,6,7,8,9]),r=e.x,o=e.y,i=e.i,c=e.j;t.DuplicatesList(t.matrix[r][o].checklist,n),t.DuplicatesList(t.verticallines[r][i],n),t.DuplicatesList(t.horizontallines[o][c],n),e.options=n},a.DuplicatesList=function(e,t){for(var n=0;n<e.length;n++){var a=e[n];""!==a.number&&t.delete(a.number)}if(0===t.size)throw Error("Empty options")},a.errorcount=0,null===r){var o=performance.now();a.CreateBoard(e);var i=performance.now();console.log("Call to CreateSudoku took "+(i-o)+" milliseconds.")}else a.RestoreBoard(r);return a}return n}((function e(){var t=this;Object(S.a)(this,e),this.CreateEmptyBoard=function(){t.matrix=[],t.emptyspaces=[],t.verticallines=[[[],[],[]],[[],[],[]],[[],[],[]]],t.horizontallines=[[[],[],[]],[[],[],[]],[[],[],[]]],t.list=[];for(var e=0;e<3;e++){for(var n=[],a=0;a<3;a++)n[a]=new L(e,a,t),t.EmptySpaces(e,a);t.matrix[e]=n}},this.CleanDuplicated=function(){for(var e=0;e<t.list.length;e++){t.list[e].SetValueError(!1)}},this.CheckDuplicates=function(){for(var e=0,n=0;n<3;n++)for(var a=0;a<3;a++){var r=t.matrix[n][a].checklist;e+=t.MarkDuplicates(r);var o=t.verticallines[n][a];e+=t.MarkDuplicates(o);var i=t.horizontallines[n][a];e+=t.MarkDuplicates(i)}return e},this.MarkDuplicates=function(e){for(var n=0,a=0;a<e.length;a++){var r=e[a];t.duplicated(e,r.number)&&(r.SetValueError(!0),n++)}return n},this.duplicated=function(e,t){return e.reduce((function(e,n){return e+(""!==t&&n.number===t)}),0)>1},this.EmptySpaces=function(e,n){for(var a=0;a<3;a++)for(var r=0;r<3;r++)t.emptyspaces.push([e,n,a,r])},this.CreateEmptyBoard()})),D=n(57),W=function(){function e(){Object(S.a)(this,e)}return Object(D.a)(e,null,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=JSON.parse(localStorage.getItem(e));if(null==a)this.set(e,t,n);else{if(!(a.expiration_time<Date.now()))return a.data;this.set(e,t,n)}return t}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;null!=t&&(n=Date.now()+24*n*60*60*1e3,localStorage.setItem(e,JSON.stringify({data:t,expiration_time:n})))}}]),e}(),V=function(e,t){return{backgroundColor:e.main,color:t(e.main),border:"none","&:hover":{backgroundColor:e.dark,color:t(e.dark),border:"none"}}},M=Object(d.a)((function(e){var t=e.palette,n=t.info,a=t.success,r=t.warning,o=t.error,i=t.getContrastText;return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},buttonstar:{position:"absolute",bottom:e.spacing(.25),right:e.spacing(.25),fontSize:"0.75rem",borderRadius:"100%",backgroundColor:"white",color:r.light},button1:V(n,i),button2:V(a,i),button3:V(r,i),button4:V(o,i)}}));function T(e){var t=M(),n=r.a.useState(W.get("difficulty",45)),a=Object(c.a)(n,2),o=a[0],i=a[1],d=e.board;function b(e){var t=new z(e);i(e),d.RestoreBoard(t.CloneBoard())}var v=function(){W.set("difficulty",o)};return r.a.useEffect((function(){return window.addEventListener("beforeunload",v),function(){return window.removeEventListener("beforeunload",v)}})),r.a.createElement("div",{className:t.root},r.a.createElement(l.a,{position:"fixed"},r.a.createElement(h.a,null,r.a.createElement(f.a,{variant:"h6",className:t.title}," Sudoku "),r.a.createElement(u.a,{size:"small"},r.a.createElement(s.a,{className:t.button1,onClick:function(){return b(63)}},r.a.createElement(p.a,null),63===o?r.a.createElement(w.a,{className:t.buttonstar}):""),r.a.createElement(s.a,{className:t.button2,onClick:function(){return b(45)}},r.a.createElement(g.a,null),45===o?r.a.createElement(w.a,{className:t.buttonstar}):""),r.a.createElement(s.a,{className:t.button3,onClick:function(){return b(36)}},r.a.createElement(E.a,null),36===o?r.a.createElement(w.a,{className:t.buttonstar}):""),r.a.createElement(s.a,{className:t.button4,onClick:function(){return b(27)}},r.a.createElement(x.a,null),27===o?r.a.createElement(w.a,{className:t.buttonstar}):"")))),r.a.createElement(h.a,null),r.a.createElement(m.a,null,e.children))}var U=n(118),F=n(119),A=n(3),q=n(120),_=n(62),G=n(121),I=Object(d.a)((function(e){var t=e.palette,n=t.primary,a=t.secondary,r=t.getContrastText;return{button:Object(_.a)({height:"100%",width:"100%",fontSize:"1rem",fontWeight:"normal",minWidth:0,borderRadius:0,padding:e.spacing(1)},e.breakpoints.up("md"),{padding:e.spacing(1.5)}),options:{height:"100%",width:"100%",fontWeight:"normal",margin:0,borderRadius:0},checkbox:{padding:0,paddingRight:e.spacing(1),color:n.main},label:{width:0},optioncolor:{color:r(n.main),"&:hover":{backgroundColor:n.light}},optionbackground:{backgroundColor:n.main},checkedoption:{backgroundColor:a.main,"&:hover":{backgroundColor:a.light}}}})),J=function(e){var t=e.handleClose,n=e.field,a=e.Checked,o=e.setChecked,i=r.a.useState(!1),l=Object(c.a)(i,2),u=l[0],m=l[1],d=function(){o(!a)},h=I(),f=a?h.optioncolor:"",b=function(e){n.options.clear(),n.SetNumber(e),t()},p=function(e){""===e?n.options.clear():n.options.has(e)?n.options.delete(e):n.options.add(e),m(!u)};return r.a.createElement(U.a,{container:!0,justify:"center",className:Object(A.a)(a?h.optionbackground:"",u)},[[1,4,7],[2,5,8],[3,6,9]].map((function(e,t){var o="popover-"+t;return r.a.createElement(U.a,{key:o,item:!0,xs:4},e.map((function(e,t){var i=o+","+t,c=Object(A.a)(h.button,f,a&&n.options.has(e)?h.checkedoption:"");return r.a.createElement(U.a,{key:i,item:!0,xs:12},r.a.createElement(s.a,{className:c,onClick:function(){return a?p(e):b(e)}},e))})))})),r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(s.a,{classes:{label:h.label},className:Object(A.a)(h.options,f),onClick:d},r.a.createElement(G.a,{color:"default",className:Object(A.a)(h.checkbox,f),checked:a,onChange:d,inputProps:{"aria-label":"Option checkbox"},disableRipple:!0}),"Options")),r.a.createElement(U.a,{item:!0,xs:12},r.a.createElement(s.a,{className:Object(A.a)(h.options,f),onClick:function(){return a?p(""):b("")}},"Clear"))))},H=Object(d.a)((function(e){return{root:{flexGrow:1},options:{fontSize:"0.3em",lineHeight:"1em",overflowWrap:"break-word"},number:{lineHeight:"1em"}}}));function P(e){var t=e.options,n=e.children,a=H();return t=Array.from(t).sort().join(""),r.a.createElement(U.a,{container:!0},r.a.createElement(U.a,{item:!0,xs:12,className:a.options},t),r.a.createElement(U.a,{item:!0,xs:12,className:a.number},n))}var $=Object(d.a)((function(e){return{button:{height:"100%",width:"100%",fontSize:"1em",fontWeight:"normal",minWidth:0,borderRadius:0,padding:0,"&$disabled":{color:e.palette.grey[500],backgroundColor:e.palette.grey[200]}},error:{color:e.palette.error.main,"&$disabled":{color:e.palette.error.contrastText,backgroundColor:e.palette.error.light}},disabled:{}}})),K=function(e){var t=e.field,n=e.Checked,a=e.setChecked,o=$(),i=r.a.useState(null),l=Object(c.a)(i,2),u=l[0],m=l[1],d=function(){m(null)},h=t.number,f=t.locked,b=t.error,p=t.options,v=Boolean(u),g=v?"simple-popover":void 0,k=r.a.useState(h),E=Object(c.a)(k,2),C=E[0],x=E[1];t.SetFinalNumber=x,t.number=C;var O=r.a.useState(b),w=Object(c.a)(O,2),j=w[0],S=w[1];t.SetError=S,t.error=j;var y=r.a.useState(p),N=Object(c.a)(y,2),B=N[0],R=N[1];t.SetOptions=R,t.options=B;var L=Object(A.a)(o.button,j&&o.error);return f?r.a.createElement(s.a,{disabled:!0,classes:{root:L,disabled:o.disabled}},r.a.createElement(P,{options:t.options}," ",C)):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{"aria-describedby":g,className:L,onClick:function(e){m(e.currentTarget)}},r.a.createElement(P,{options:t.options}," ",C)),r.a.createElement(q.a,{id:g,open:v,anchorEl:u,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(J,{handleClose:d,field:t,Checked:n,setChecked:a})))},Q=function(e){var t=e.height,n=.75*t;return n>50&&(n=50),r.a.createElement(F.a,{height:t,width:"100%",fontSize:n,display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(K,e))},X=Object(d.a)((function(e){return{subbox:{textAlign:"center",height:"100%"},grid:{borderRight:e.spacing(.125)+"px solid "+e.palette.info.main},subgrid:{borderBottom:e.spacing(.125)+"px solid "+e.palette.info.main}}})),Y=function(e){var t=e.matrix,n=e.height,a=e.Checked,o=e.setChecked,i=X(),c=t.submatrix,l=t.x+","+t.y;return r.a.createElement(U.a,{container:!0,justify:"center",className:i.subbox},c.map((function(e,t){var c=l+"-"+t;return r.a.createElement(U.a,{key:c,item:!0,xs:4,className:i.grid},e.map((function(e,t){var l=c+","+t;return r.a.createElement(U.a,{key:l,item:!0,xs:12,className:i.subgrid},r.a.createElement(Q,{field:e,height:n,Checked:a,setChecked:o}))})))})))},Z=function(e){var t=e.height,n=t/3-1;return r.a.createElement(F.a,{height:t,width:"100%"},r.a.createElement(Y,Object.assign({},e,{height:n})))},ee=Object(d.a)((function(e){var t=e.spacing(.375)+"px solid "+e.palette.info.main,n=e.spacing(.25)+"px solid "+e.palette.info.main;return{box:{maxWidth:"calc(100vh - "+2*e.mixins.toolbar.minHeight+"px)",margin:e.spacing(1,"auto")},root:{flexGrow:1,borderLeft:t,borderTop:t},grid:{borderRight:n},subgrid:{borderBottom:n}}}));var te=function(e){var t=e.board,n=r.a.useRef(null),a=r.a.useState(W.get("box_height",100)),o=Object(c.a)(a,2),i=o[0],l=o[1],s=r.a.useState(!1),u=Object(c.a)(s,2),m=u[0],d=u[1],h=function(){l(n.current.clientWidth/3-3)},f=function(){W.set("box_height",i),W.set("sudoku_board",t.CloneBoard())},b=function(e,t){var n,a=arguments,r=this;return function(o){clearTimeout(n),n=setTimeout((function(t){n=null,e.apply(r,a)}),t)}}(h,100);r.a.useLayoutEffect(h,[]),r.a.useEffect((function(){return window.addEventListener("resize",b),function(){return window.removeEventListener("resize",b)}})),r.a.useEffect((function(){return window.addEventListener("beforeunload",f),function(){return window.removeEventListener("beforeunload",f)}}));var p=ee();return r.a.createElement(F.a,{className:p.box,ref:n},r.a.createElement(U.a,{container:!0,justify:"center",className:p.root},t.matrix.map((function(e,t){return r.a.createElement(U.a,{key:t,item:!0,xs:4,className:p.grid},e.map((function(e,n){return r.a.createElement(U.a,{key:t+","+n,item:!0,xs:12,className:p.subgrid},r.a.createElement(Z,{matrix:e,height:i,Checked:m,setChecked:d}))})))}))))},ne=(n(81),W.get("sudoku_board",null)),ae=new z(45,ne);var re=function(){return r.a.createElement(T,{board:ae},r.a.createElement(te,{board:ae}))},oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ie(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(re,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/sudoku",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/sudoku","/service-worker.js");oe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ie(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ie(t,e)}))}}()}},[[72,1,2]]]);
//# sourceMappingURL=main.7ec46baa.chunk.js.map