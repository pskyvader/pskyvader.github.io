(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[18],{204:function(e,t,a){"use strict";a.r(t);var r=a(12),n=a(0),o=a.n(n),i=a(191),c=a(132),l=a(201),s=a(203),u=a(137),m=a(4),d=a(139),p=a(192),b=Object(c.a)((function(e){return{root:{flexGrow:1},options:{fontSize:"0.3em",lineHeight:"1em",overflowWrap:"break-word"},number:{lineHeight:"1em"}}}));function h(e){var t=e.options,a=e.children,r=b();return t=Array.from(t).sort().join(""),o.a.createElement(i.a,{container:!0},o.a.createElement(i.a,{item:!0,xs:12,className:r.options},t),o.a.createElement(i.a,{item:!0,xs:12,className:r.number},a))}var f=Object(n.lazy)((function(){return a.e(14).then(a.bind(null,200))})),g=Object(c.a)((function(e){var t=e.palette,a=t.primary,r=t.getContrastText,n=t.background,o=t.grey,i="light"===e.palette.type;return{button:{height:"100%",width:"100%",fontSize:"1em",fontWeight:"normal",minWidth:0,borderRadius:0,padding:0,color:i?null:r(n.paper),"&$disabled":{color:i?o[500]:o[300],backgroundColor:i?o[200]:o[800]}},error:{color:e.palette.error.main,"&$disabled":{color:e.palette.error.contrastText,backgroundColor:e.palette.error.main}},selected:{backgroundColor:a.light,color:r(a.light),"&:hover":{backgroundColor:a.main}},disabled:{},popper:{zIndex:1300}}})),v=function(e){var t=e.field,a=e.OptionsActive,i=e.setOptionsActive,c=e.SaveBoard,l=g(),s=o.a.useRef(null),u=o.a.useState(!1),b=Object(r.a)(u,2),v=b[0],E=b[1],O=o.a.useState(!1),x=Object(r.a)(O,2),y=x[0],j=x[1],k=function(){E(!1),c()},S=t.number,w=t.locked,N=t.error,A=t.options,C=o.a.useState(S),B=Object(r.a)(C,2),z=B[0],T=B[1];t.SetFinalNumber=T,t.number=z;var W=o.a.useState(N),R=Object(r.a)(W,2),L=R[0],M=R[1];t.SetError=M,t.error=L;var _=o.a.useState(A),H=Object(r.a)(_,2),P=H[0],F=H[1];t.SetOptions=F,t.options=P;var G=Object(m.a)(l.button,L&&l.error,v&&l.selected,y);return w?o.a.createElement(d.a,{disabled:!0,classes:{root:G,disabled:l.disabled}},o.a.createElement(h,{options:P}," ",z)):o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{ref:s,className:G,onClick:function(e){E((function(e){return!e}))}},o.a.createElement(h,{options:P}," ",z)),o.a.createElement(n.Suspense,{fallback:null},o.a.createElement(p.a,{open:v,anchorEl:s.current,role:void 0,transition:!0,className:l.popper},(function(e){var r=e.TransitionProps,n=e.placement;return o.a.createElement(f,{TransitionProps:r,placement:n,handleClose:k,field:t,OptionsActive:a,setOptionsActive:i,parentOptions:j})}))))},E=function(e){var t=e.height,a=.75*t;return a>50&&(a=50),o.a.createElement(l.a,{height:t,width:"100%",fontSize:a,display:"flex",alignItems:"center",justifyContent:"center"},o.a.createElement(v,e))},O=Object(c.a)((function(e){var t="light"===e.palette.type?e.palette.info.dark:e.palette.primary.light;return{subbox:{textAlign:"center",height:"100%"},grid:{borderRight:e.spacing(.125)+" solid "+t},subgrid:{borderBottom:e.spacing(.125)+" solid "+t}}})),x=function(e){var t=e.matrix,a=e.height,r=e.OptionsActive,n=e.setOptionsActive,c=e.SaveBoard,l=O(),s=t.submatrix,u=t.x+","+t.y;return o.a.createElement(i.a,{container:!0,justify:"center",className:l.subbox},s.map((function(e,t){var s=u+"-"+t;return o.a.createElement(i.a,{key:s,item:!0,xs:4,className:l.grid},e.map((function(e,t){var u=s+","+t;return o.a.createElement(i.a,{key:u,item:!0,xs:12,className:l.subgrid},o.a.createElement(E,{field:e,height:a,OptionsActive:r,setOptionsActive:n,SaveBoard:c}))})))})))},y=function(e){var t=e.height,a=t/3-1;return o.a.createElement(l.a,{height:t,width:"100%"},o.a.createElement(x,Object.assign({},e,{height:a})))},j=a(16),k=a(21),S=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(2),a.e(12)]).then(a.bind(null,170))})),w=Object(c.a)((function(e){var t="light"===e.palette.type?e.palette.info.dark:e.palette.primary.light,a=e.spacing(.375)+" solid "+t,r=e.spacing(.25)+" solid "+t;return{box:{maxWidth:"calc(100vh - "+2*e.mixins.toolbar.minHeight+"px)",margin:e.spacing(1,"auto")},root:{flexGrow:1,borderLeft:a,borderTop:a},grid:{borderRight:r},subgrid:{borderBottom:r},paper:{top:"50%",left:"50%",position:"absolute",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:e.spacing(8),transform:"translate(-50%, -50%)",outline:"none"}}}));function N(e,t){var a,r=arguments,n=this;return function(){clearTimeout(a),a=setTimeout((function(){a=null,e.apply(n,r)}),t)}}t.default=function(e){var t=e.board,a=w(),c=o.a.useRef(null),m=o.a.useState(j.a.get("box_height",100)),d=Object(r.a)(m,2),p=d[0],b=d[1],h=o.a.useState(j.a.get("options_active",!1)),f=Object(r.a)(h,2),g=f[0],v=f[1],E=o.a.useState(t.success),O=Object(r.a)(E,2),x=O[0],A=O[1];t.setSuccess=A,t.success=x;var C=N((function e(){if(c.current.clientWidth>0){var t=c.current.clientWidth/3-3;b(t),j.a.set("box_height",t)}else setTimeout(e,100)}),100),B=N((function(){j.a.set("sudoku_board",t.CloneBoard())}),3e3);o.a.useLayoutEffect(C,[]),o.a.useEffect((function(){return window.addEventListener("resize",C),function(){return window.removeEventListener("resize",C)}}));var z=o.a.createElement(s.a,{open:x,onClose:function(){A(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},o.a.createElement(n.Suspense,{fallback:Object(k.c)("loading")},o.a.createElement("div",{className:a.paper},o.a.createElement(u.a,{id:"modal-title",variant:"h4",gutterBottom:!0},Object(k.c)("victory"+(Math.round(9*Math.random())+1))),o.a.createElement(u.a,{id:"modal-description",variant:"h5",gutterBottom:!0},Object(k.c)("newgame")),o.a.createElement(S,e),o.a.createElement("p",null," ... ",Object(k.c)("victorycomment"+(Math.round(9*Math.random())+1))))));return o.a.createElement(l.a,{className:a.box,ref:c},z,o.a.createElement(i.a,{container:!0,justify:"center",className:a.root},t.matrix.map((function(e,t){return o.a.createElement(i.a,{key:t,item:!0,xs:4,className:a.grid},e.map((function(e,r){return o.a.createElement(i.a,{key:t+","+r,item:!0,xs:12,className:a.subgrid},o.a.createElement(y,{matrix:e,height:p,OptionsActive:g,setOptionsActive:v,SaveBoard:B}))})))}))))}}}]);
//# sourceMappingURL=18.f767c029.chunk.js.map