(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[5],{16:function(e,t,n){"use strict";var a=n(19),r=n(75),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=JSON.parse(localStorage.getItem(e));if(null==a)this.set(e,t,n);else{if(!(a.expiration_time<Date.now()))return a.data;this.set(e,t,n)}return t}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;null!=t&&(n=Date.now()+24*n*60*60*1e3,localStorage.setItem(e,JSON.stringify({data:t,expiration_time:n})))}}]),e}();t.a=i},21:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return O}));var a=n(38),r=n.n(a),i=n(12),o=n(55),c=n(0),l=n.n(c),s=n(16),u={en:"English",es:"Espa\xf1ol"},f=(navigator.language||navigator.userLanguage).substring(0,2),m=s.a.get("rcml-lang",f),h=u[m]?m:"en",d={};function p(e){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d[t]){e.next=2;break}return e.abrupt("return",n(98)("./"+t+".json").then((function(e){var n=e.default;d[t]=n})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=Object(c.createContext)({userLanguage:h,dictionary:{}});function g(e){var t=e.children,n=Object(c.useState)(h),a=Object(i.a)(n,2),f=a[0],m=a[1],v=Object(c.useState)(!1),g=Object(i.a)(v,2),O=g[0],k=g[1],E=d[f]?d[f]:{};l.a.useEffect((function(){d[f]||p(f).then((function(){k(!O)}))}));var j={userLanguage:f,dictionary:E,userLanguageChange:function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u[t]?t:h,s.a.set("rcml-lang",n),d[n]){e.next=7;break}return e.next=5,p(n).then((function(){m(n)}));case 5:e.next=8;break;case 7:m(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return l.a.createElement(b.Provider,{value:j},t)}function O(e){return Object(c.useContext)(b).dictionary[e]||e+"-TEXT"}},66:function(e,t,n){"use strict";var a=n(14),r=n(19),i=n(10),o=n(81),c=n(80),l=function e(t,n,a,i,o){var c=this;Object(r.a)(this,e),this.SetNumber=function(e){c.SetValue(e),c.callback.Duplicates()},this.SetValue=function(e){void 0!==c.SetFinalNumber&&c.SetFinalNumber(e),c.number=e},this.SetValueError=function(e){void 0!==c.SetError&&c.SetError(e),c.error=e},this.SetValueOptions=function(e){void 0!==c.SetOptions&&c.SetOptions(e),c.options=e},this.number="",this.options=new Set([1,2,3,4,5,6,7,8,9]),this.x=t,this.y=n,this.i=a,this.j=i,this.locked=!1,this.callback=o,this.error=!1},s=function e(t,n,a){var i=this;Object(r.a)(this,e),this.Duplicates=function(){i.callback.CleanDuplicated(),i.callback.CheckDuplicates(),i.callback.CheckSuccess()},this.x=t,this.y=n,this.callback=a,this.submatrix=[],this.checklist=[];for(var o=0;o<3;o++){for(var c=[],s=0;s<3;s++)c[s]=new l(t,n,o,s,this),this.checklist.push(c[s]),this.callback.verticallines[t][o].push(c[s]),this.callback.horizontallines[n][s].push(c[s]),this.callback.list.push(c[s]);this.submatrix[o]=c}},u=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(r.a)(this,n),(o=t.call(this)).RandomNumbers=function(e){var t=Object(i.a)(o);if(e>81||e<1)throw Error("number out of range");for(var n=Object(a.a)(t.emptyspaces),r=0;r<e;r++){var c=Math.floor(Math.random()*(n.length-1)),l=n[c],s=t.matrix[l[0]][l[1]].submatrix[l[2]][l[3]];s.SetValue(Math.floor(1+8*Math.random())),t.CleanDuplicated(),t.CheckDuplicates()>0?(s.number="",r--):(s.options.clear(),n.splice(c,1))}},o.CreateBoard=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(o);if(e>81||e<1)throw Error("number out of range");n.RandomNumbers(27);try{n.Resolve()}catch(a){n.errorcount+=1,n.CreateEmptyBoard(),n.CreateBoard(e,t+1)}0===t&&n.CleanBoard(e)},o.CleanBoard=function(e){var t=Object(i.a)(o);if(e>81||e<1)throw Error("number out of range");for(var n=Object(a.a)(t.emptyspaces),r=0;r<81-e&&n.length>0;){var c=Math.floor(Math.random()*(n.length-1)),l=n[c],s=t.matrix[l[0]][l[1]].submatrix[l[2]][l[3]],u=s.number;s.number="";var f=t.CloneBoard(),m=t.ResolveUnique();t.RestoreBoard(f),0===m&&console.log(m,"solutions"),1===m?r++:s.number=u,n.splice(c,1)}for(var h=0;h<t.emptyspaces.length;h++){var d=t.emptyspaces[h],p=t.matrix[d[0]][d[1]].submatrix[d[2]][d[3]];""!==p.number&&(p.locked=!0)}},o.ResolveUnique=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t>1)return t;for(var n=Object(i.a)(o),r=1;r>0;)r=0,0===(r+=n.FillSingleOption())&&(r+=n.FillByLine());if(n.CheckCompleteBoard())return++t;var c=n.CloneBoard(),l=n.Random(),s=Object(a.a)(l.options);l.number=s[0];for(var u=0,f=0;l.number!==u&&void 0!==l.number;){u=l.number,n.RestoreBoard(c),l.number=u;try{var m=t;(t=n.ResolveUnique(e+1,t))>m&&t++}catch(h){}finally{n.arrayEquals(s,Object(a.a)(l.options))?f++:(s=Object(a.a)(l.options),f=0),l.number=s[f]}}return l.number="",t>1?t:n.CheckCompleteBoard()?++t:n.ResolveUnique(e+1,t)},o.Resolve=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(i.a)(o),n=1;n>0;)n=0,0===(n+=t.FillSingleOption())&&(n+=t.FillByLine());if(!t.CheckCompleteBoard()){var r=t.CloneBoard(),c=t.Random(),l=Object(a.a)(c.options);c.number=l[0];for(var s=0,u=0;!t.CheckCompleteBoard()&&c.number!==s&&void 0!==c.number;){s=c.number,t.RestoreBoard(r),c.number=s;try{t.Resolve(e+1)}catch(f){}finally{t.arrayEquals(l,Object(a.a)(c.options))?u++:(l=Object(a.a)(c.options),u=0),c.number=l[u]}}c.number="",t.CheckCompleteBoard()?(c.SetValue(c.number),c.options.clear()):t.Resolve()}},o.CloneBoard=function(){for(var e=Object(i.a)(o),t=[],n=0;n<e.list.length;n++){var r=e.list[n];t.push({x:r.x,y:r.y,i:r.i,j:r.j,number:r.number,options:Object(a.a)(r.options),locked:r.locked,error:r.error})}return t},o.RestoreBoard=function(e){for(var t=Object(i.a)(o),n=0;n<e.length;n++){var a=e[n],r=t.matrix[a.x][a.y].submatrix[a.i][a.j];r.SetValue(a.number),r.SetValueOptions(new Set(a.options)),r.locked=a.locked,r.SetValueError(a.error)}o.CheckSuccess()},o.CheckCompleteBoard=function(){for(var e=Object(i.a)(o),t=0;t<e.list.length;t++){if(""===e.list[t].number)return!1}return!0},o.Random=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=Object(i.a)(o),n=0;n<t.list.length;n++){var a=t.list[n];if(""===a.number&&(t.CheckOptions(a),a.options.size<e))return a}return t.Random(e+1)},o.FillSingleOption=function(){for(var e=Object(i.a)(o),t=0,n=0;n<e.list.length;n++){var a=e.list[n];""===a.number&&(e.CheckOptions(a),1===a.options.size&&(a.SetValue(a.options.values().next().value),a.options.clear(),t++))}return t},o.FillByLine=function(){for(var e=Object(i.a)(o),t=0,n=0;n<e.list.length;n++){var a=e.list[n];""===a.number&&e.CheckUnique(a)&&(a.options.clear(),t++)}return t},o.CheckUnique=function(e){var t=Object(i.a)(o),n=0,a=e.x,r=e.y,c=e.i,l=e.j;return(0!==(n=t.UniqueList(t.matrix[a][r].checklist,e))||0!==(n=t.UniqueList(t.verticallines[a][c],e))||0!==(n=t.UniqueList(t.horizontallines[r][l],e)))&&(e.SetValue(n),!0)},o.UniqueList=function(e,t){for(var n=Object(i.a)(o),r=new Set,c=0;c<e.length;c++){var l=e[c];""===l.number&&l!==t&&(n.CheckOptions(l),r=new Set([].concat(Object(a.a)(r),Object(a.a)(l.options))))}n.CheckOptions(t);var s=new Set(Object(a.a)(t.options).filter((function(e){return!r.has(e)})));return 1===s.size?s.values().next().value:0},o.CheckOptions=function(e){var t=Object(i.a)(o),n=new Set([1,2,3,4,5,6,7,8,9]),a=e.x,r=e.y,c=e.i,l=e.j;t.DuplicatesList(t.matrix[a][r].checklist,n),t.DuplicatesList(t.verticallines[a][c],n),t.DuplicatesList(t.horizontallines[r][l],n),e.options=n},o.DuplicatesList=function(e,t){for(var n=0;n<e.length;n++){var a=e[n];""!==a.number&&t.delete(a.number)}if(0===t.size)throw Error("Empty options")},o.arrayEquals=function(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))},o.errorcount=0,null===c){var l=performance.now();o.CreateBoard(e);var s=performance.now();console.log("CreateSudoku took "+(s-l)+" milliseconds.")}else o.RestoreBoard(c);return o}return n}((function e(){var t=this;Object(r.a)(this,e),this.CreateEmptyBoard=function(){t.success=!1,t.matrix=[],t.emptyspaces=[],t.verticallines=[[[],[],[]],[[],[],[]],[[],[],[]]],t.horizontallines=[[[],[],[]],[[],[],[]],[[],[],[]]],t.list=[];for(var e=0;e<3;e++){for(var n=[],a=0;a<3;a++)n[a]=new s(e,a,t),t.EmptySpaces(e,a);t.matrix[e]=n}},this.SetSuccessValue=function(e){void 0!==t.setSuccess&&t.setSuccess(e),t.success=e},this.CheckSuccess=function(){for(var e=0;e<t.list.length;e++){var n=t.list[e];if(""===n.number||n.error)return void t.SetSuccessValue(!1)}t.SetSuccessValue(!0)},this.CleanDuplicated=function(){for(var e=0;e<t.list.length;e++){t.list[e].SetValueError(!1)}},this.CheckDuplicates=function(){for(var e=0,n=0;n<3;n++)for(var a=0;a<3;a++){var r=t.matrix[n][a].checklist;e+=t.MarkDuplicates(r);var i=t.verticallines[n][a];e+=t.MarkDuplicates(i);var o=t.horizontallines[n][a];e+=t.MarkDuplicates(o)}return e},this.MarkDuplicates=function(e){for(var n=0,a=0;a<e.length;a++){var r=e[a];t.duplicated(e,r.number)&&(r.SetValueError(!0),n++)}return n},this.duplicated=function(e,t){return e.reduce((function(e,n){return e+(""!==t&&n.number===t)}),0)>1},this.EmptySpaces=function(e,n){for(var a=0;a<3;a++)for(var r=0;r<3;r++)t.emptyspaces.push([e,n,a,r])},this.CreateEmptyBoard()}));t.a=u},88:function(e,t,n){e.exports=n(99)},98:function(e,t,n){var a={"./en.json":[114,19],"./es.json":[115,20]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n.t(r,3)}))}r.keys=function(){return Object.keys(a)},r.id=98,e.exports=r},99:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(29),o=n.n(i),c=n(12),l=n(79),s=n(143),u=n(144),f=n(135),m=n(77),h=n.n(m),d=n(76),p=n.n(d),v=n(28),b=n.n(v),g=n(78),O=n.n(g),k=n(43),E=n(4),j=n(133),S=n(138),y=n(132),w=n(15),C=n(134),x=n(137),D=n(136),B=n(54),L=n.n(B),R=n(146),N=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(0),n.e(2),n.e(9)]).then(n.bind(null,170))})),U=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(0),n.e(8)]).then(n.bind(null,181))})),z=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(0),n.e(3),n.e(4),n.e(13)]).then(n.bind(null,182))})),M=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(10)]).then(n.bind(null,202))})),V=Object(y.a)((function(e){return{root:{flexGrow:1},margin:Object(k.a)({marginRight:e.spacing(2)},e.breakpoints.down("xs"),{marginRight:e.spacing(.5)}),appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:Object(k.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})})}}));function A(e){var t=V(),n=Object(w.a)(),i=r.a.useState(!1),o=Object(c.a)(i,2),l=o[0],s=o[1],u=function(){s(!l),h&&d(!h)},f=r.a.useState(!1),m=Object(c.a)(f,2),h=m[0],d=m[1],p=function(){d(!h),setTimeout((function(){window.dispatchEvent(new Event("resize"))}),n.transitions.duration.enteringScreen)};return r.a.createElement("div",{className:t.root},r.a.createElement(j.a,{position:"static",className:Object(E.a)(t.appBar,Object(k.a)({},t.appBarShift,h))},r.a.createElement(C.a,null,r.a.createElement(R.a,{smUp:!0},r.a.createElement(D.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:u},r.a.createElement(L.a,null))),r.a.createElement(R.a,{xsDown:!0},r.a.createElement(D.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:p},r.a.createElement(L.a,null))),r.a.createElement(R.a,{mdUp:!0},r.a.createElement("div",{className:t.root})),r.a.createElement(R.a,{smDown:!0},r.a.createElement(x.a,{variant:"h6",className:t.root}," Sudoku ")),r.a.createElement(a.Suspense,{fallback:null},r.a.createElement("div",{className:t.margin},r.a.createElement(z,null))),r.a.createElement(a.Suspense,{fallback:null},r.a.createElement("div",{className:t.margin},r.a.createElement(U,e))),r.a.createElement("div",{className:t.margin},r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(N,e))))),r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(M,Object.assign({handleDrawerToggle:u,mobileOpen:l,handleDesktopDrawerToggle:p,desktopOpen:h},e),r.a.createElement(S.a,null,e.children))))}var F=n(66),P=n(16),T=n(139),q=n(140),I=n(147),W=n(145),_=n(56),J=n.n(_),G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");G?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(t,e)}))}}function K(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var X=n(21),H=function(e){var t=e.Message,n=e.setMessage,a=e.waitingServiceWorker,i=e.installPrompt,o=e.setInstalled,c=function(e,t){"clickaway"!==t&&n("")},l=r.a.createElement("div",null);"INSTALL"===t&&(l=r.a.createElement(W.a,{elevation:6,variant:"filled",severity:"success",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{color:"inherit",size:"small",onClick:function(){i&&(i.prompt(),i.userChoice.then((function(e){"accepted"===e.outcome?console.log("User accepted the install prompt"):(o(!0),P.a.set("installed",!0),console.log("User dismissed the install prompt"))}))),n("")}}," ",Object(X.c)("install")," "),r.a.createElement(D.a,{color:"inherit",size:"small",onClick:function(){o(!0),P.a.set("installed",!0),n("")}},r.a.createElement(J.a,{fontSize:"small"})))},Object(X.c)("app-available"))),"UPDATE"===t&&(l=r.a.createElement(W.a,{elevation:6,variant:"filled",severity:"info",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{color:"inherit",size:"small",onClick:function(){a&&a.postMessage({type:"SKIP_WAITING"}),n("")}},"  ",Object(X.c)("update")," "),r.a.createElement(D.a,{color:"inherit",size:"small",onClick:c},r.a.createElement(J.a,{fontSize:"small"})))},Object(X.c)("update-available"))),"OFFLINE"===t&&(l=r.a.createElement(W.a,{elevation:6,variant:"filled",severity:"success",onClose:c},Object(X.c)("offline-available")));return r.a.createElement(I.a,{open:""!==t,onClose:c,anchorOrigin:{vertical:"top",horizontal:"center"},TransitionComponent:function(e){return r.a.createElement(q.a,Object.assign({},e,{direction:"up"}))}},l)},Q=function(){var e=r.a.useState(""),t=Object(c.a)(e,2),n=t[0],a=t[1],i=r.a.useState(null),o=Object(c.a)(i,2),l=o[0],s=o[1],u=r.a.useState(null),f=Object(c.a)(u,2),m=f[0],h=f[1],d=r.a.useState(P.a.get("installed",!1)),p=Object(c.a)(d,2),v=p[0],b=p[1];return r.a.useEffect((function(){$({onOpen:function(){""===n&&a("OFFLINE")},onUpdate:function(e){s(e.waiting),a("UPDATE")}})}),[n]),r.a.useEffect((function(){window.addEventListener("beforeinstallprompt",(function(e){localStorage&&(e.preventDefault(),h(e),"UPDATE"===n||v||a("INSTALL"))}))}),[n,v]),r.a.useEffect((function(){l&&l.addEventListener("statechange",(function(e){"activated"===e.target.state&&window.location.reload()}))}),[l]),r.a.createElement(H,{setInstalled:b,Message:n,setMessage:a,waitingServiceWorker:l,installPrompt:m})},Y=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(15),n.e(18)]).then(n.bind(null,204))})),Z=P.a.get("sudoku_board",null),ee=new F.a(45,Z);var te=function(){var e=r.a.useState(P.a.get("difficulty",45)),t=Object(c.a)(e,2),n=t[0],i=t[1],o=r.a.useState(P.a.get("dark_mode",Object(f.a)("(prefers-color-scheme: dark)"))),m=Object(c.a)(o,2),d=m[0],v=m[1],g=r.a.useMemo((function(){return Object(l.a)({palette:{primary:{main:d?p.a[800]:h.a[800]},secondary:{main:O.a[500]},type:d?"dark":"light"},components:{MuiListItem:{styleOverrides:{button:{"&:hover":{backgroundColor:d?b.a[700]:b.a[200]},"&$selected":{backgroundColor:d?b.a[600]:b.a[300],"&:hover":{backgroundColor:d?b.a[500]:b.a[400]}}}}}}})}),[d]);return r.a.createElement(s.a,{theme:g},r.a.createElement(u.a,null),r.a.createElement(X.b,null,r.a.createElement(Q,null),r.a.createElement(A,{board:ee,Difficulty:n,setDifficulty:i,DarkMode:d,SetDarkMode:v},r.a.createElement(a.Suspense,{fallback:Object(X.c)("loading")},r.a.createElement(Y,{board:ee,Difficulty:n,setDifficulty:i})))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(te,null)),document.getElementById("root"))}},[[88,6,7]]]);
//# sourceMappingURL=main.0a4d50fb.chunk.js.map