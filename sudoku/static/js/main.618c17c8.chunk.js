(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[1],{16:function(e,t,n){"use strict";var a=n(15),r=n(62),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=JSON.parse(localStorage.getItem(e));if(null==a)this.set(e,t,n);else{if(!(a.expiration_time<Date.now()))return a.data;this.set(e,t,n)}return t}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;null!=t&&(n=Date.now()+24*n*60*60*1e3,localStorage.setItem(e,JSON.stringify({data:t,expiration_time:n})))}}]),e}();t.a=i},60:function(e,t,n){"use strict";var a=n(13),r=n(15),i=n(10),o=n(68),l=n(67),c=function e(t,n,a,i,o){var l=this;Object(r.a)(this,e),this.SetNumber=function(e){l.SetValue(e),l.callback.Duplicates()},this.SetValue=function(e){void 0!==l.SetFinalNumber&&l.SetFinalNumber(e),l.number=e},this.SetValueError=function(e){void 0!==l.SetError&&l.SetError(e),l.error=e},this.SetValueOptions=function(e){void 0!==l.SetOptions&&l.SetOptions(e),l.options=e},this.number="",this.options=new Set([1,2,3,4,5,6,7,8,9]),this.x=t,this.y=n,this.i=a,this.j=i,this.locked=!1,this.callback=o,this.error=!1},s=function e(t,n,a){var i=this;Object(r.a)(this,e),this.Duplicates=function(){i.callback.CleanDuplicated(),i.callback.CheckDuplicates(),i.callback.CheckSuccess()},this.x=t,this.y=n,this.callback=a,this.submatrix=[],this.checklist=[];for(var o=0;o<3;o++){for(var l=[],s=0;s<3;s++)l[s]=new c(t,n,o,s,this),this.checklist.push(l[s]),this.callback.verticallines[t][o].push(l[s]),this.callback.horizontallines[n][s].push(l[s]),this.callback.list.push(l[s]);this.submatrix[o]=l}},u=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(e){var o,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(r.a)(this,n),(o=t.call(this)).RandomNumbers=function(e){var t=Object(i.a)(o);if(e>81||e<1)throw Error("number out of range");for(var n=Object(a.a)(t.emptyspaces),r=0;r<e;r++){var l=Math.floor(Math.random()*(n.length-1)),c=n[l],s=t.matrix[c[0]][c[1]].submatrix[c[2]][c[3]];s.SetValue(Math.floor(1+8*Math.random())),t.CleanDuplicated(),t.CheckDuplicates()>0?(s.number="",r--):(s.options.clear(),n.splice(l,1))}},o.CreateBoard=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(i.a)(o);if(e>81||e<1)throw Error("number out of range");n.RandomNumbers(27);try{n.Resolve()}catch(a){n.errorcount+=1,n.CreateEmptyBoard(),n.CreateBoard(e,t+1)}0===t&&n.CleanBoard(e)},o.CleanBoard=function(e){var t=Object(i.a)(o);if(e>81||e<1)throw Error("number out of range");for(var n=Object(a.a)(t.emptyspaces),r=0;r<81-e&&n.length>0;){var l=Math.floor(Math.random()*(n.length-1)),c=n[l],s=t.matrix[c[0]][c[1]].submatrix[c[2]][c[3]],u=s.number;s.number="";var f=t.CloneBoard(),h=t.ResolveUnique();t.RestoreBoard(f),0===h&&console.log(h,"solutions"),1===h?r++:s.number=u,n.splice(l,1)}for(var m=0;m<t.emptyspaces.length;m++){var v=t.emptyspaces[m],d=t.matrix[v[0]][v[1]].submatrix[v[2]][v[3]];""!==d.number&&(d.locked=!0)}},o.ResolveUnique=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t>1)return t;for(var n=Object(i.a)(o),r=1;r>0;)r=0,0===(r+=n.FillSingleOption())&&(r+=n.FillByLine());if(n.CheckCompleteBoard())return++t;var l=n.CloneBoard(),c=n.Random(),s=Object(a.a)(c.options);c.number=s[0];for(var u=0,f=0;c.number!==u&&void 0!==c.number;){u=c.number,n.RestoreBoard(l),c.number=u;try{var h=t;(t=n.ResolveUnique(e+1,t))>h&&t++}catch(m){}finally{n.arrayEquals(s,Object(a.a)(c.options))?f++:(s=Object(a.a)(c.options),f=0),c.number=s[f]}}return c.number="",t>1?t:n.CheckCompleteBoard()?++t:n.ResolveUnique(e+1,t)},o.Resolve=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(i.a)(o),n=1;n>0;)n=0,0===(n+=t.FillSingleOption())&&(n+=t.FillByLine());if(!t.CheckCompleteBoard()){var r=t.CloneBoard(),l=t.Random(),c=Object(a.a)(l.options);l.number=c[0];for(var s=0,u=0;!t.CheckCompleteBoard()&&l.number!==s&&void 0!==l.number;){s=l.number,t.RestoreBoard(r),l.number=s;try{t.Resolve(e+1)}catch(f){}finally{t.arrayEquals(c,Object(a.a)(l.options))?u++:(c=Object(a.a)(l.options),u=0),l.number=c[u]}}l.number="",t.CheckCompleteBoard()?(l.SetValue(l.number),l.options.clear()):t.Resolve()}},o.CloneBoard=function(){for(var e=Object(i.a)(o),t=[],n=0;n<e.list.length;n++){var r=e.list[n];t.push({x:r.x,y:r.y,i:r.i,j:r.j,number:r.number,options:Object(a.a)(r.options),locked:r.locked,error:r.error})}return t},o.RestoreBoard=function(e){for(var t=Object(i.a)(o),n=0;n<e.length;n++){var a=e[n],r=t.matrix[a.x][a.y].submatrix[a.i][a.j];r.SetValue(a.number),r.SetValueOptions(new Set(a.options)),r.locked=a.locked,r.SetValueError(a.error)}o.CheckSuccess()},o.CheckCompleteBoard=function(){for(var e=Object(i.a)(o),t=0;t<e.list.length;t++){if(""===e.list[t].number)return!1}return!0},o.Random=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=Object(i.a)(o),n=0;n<t.list.length;n++){var a=t.list[n];if(""===a.number&&(t.CheckOptions(a),a.options.size<e))return a}return t.Random(e+1)},o.FillSingleOption=function(){for(var e=Object(i.a)(o),t=0,n=0;n<e.list.length;n++){var a=e.list[n];""===a.number&&(e.CheckOptions(a),1===a.options.size&&(a.SetValue(a.options.values().next().value),a.options.clear(),t++))}return t},o.FillByLine=function(){for(var e=Object(i.a)(o),t=0,n=0;n<e.list.length;n++){var a=e.list[n];""===a.number&&e.CheckUnique(a)&&(a.options.clear(),t++)}return t},o.CheckUnique=function(e){var t=Object(i.a)(o),n=0,a=e.x,r=e.y,l=e.i,c=e.j;return(0!==(n=t.UniqueList(t.matrix[a][r].checklist,e))||0!==(n=t.UniqueList(t.verticallines[a][l],e))||0!==(n=t.UniqueList(t.horizontallines[r][c],e)))&&(e.SetValue(n),!0)},o.UniqueList=function(e,t){for(var n=Object(i.a)(o),r=new Set,l=0;l<e.length;l++){var c=e[l];""===c.number&&c!==t&&(n.CheckOptions(c),r=new Set([].concat(Object(a.a)(r),Object(a.a)(c.options))))}n.CheckOptions(t);var s=new Set(Object(a.a)(t.options).filter((function(e){return!r.has(e)})));return 1===s.size?s.values().next().value:0},o.CheckOptions=function(e){var t=Object(i.a)(o),n=new Set([1,2,3,4,5,6,7,8,9]),a=e.x,r=e.y,l=e.i,c=e.j;t.DuplicatesList(t.matrix[a][r].checklist,n),t.DuplicatesList(t.verticallines[a][l],n),t.DuplicatesList(t.horizontallines[r][c],n),e.options=n},o.DuplicatesList=function(e,t){for(var n=0;n<e.length;n++){var a=e[n];""!==a.number&&t.delete(a.number)}if(0===t.size)throw Error("Empty options")},o.arrayEquals=function(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))},o.errorcount=0,null===l){var c=performance.now();o.CreateBoard(e);var s=performance.now();console.log("CreateSudoku took "+(s-c)+" milliseconds.")}else o.RestoreBoard(l);return o}return n}((function e(){var t=this;Object(r.a)(this,e),this.CreateEmptyBoard=function(){t.success=!1,t.matrix=[],t.emptyspaces=[],t.verticallines=[[[],[],[]],[[],[],[]],[[],[],[]]],t.horizontallines=[[[],[],[]],[[],[],[]],[[],[],[]]],t.list=[];for(var e=0;e<3;e++){for(var n=[],a=0;a<3;a++)n[a]=new s(e,a,t),t.EmptySpaces(e,a);t.matrix[e]=n}},this.SetSuccessValue=function(e){void 0!==t.setSuccess&&t.setSuccess(e),t.success=e},this.CheckSuccess=function(){for(var e=0;e<t.list.length;e++){var n=t.list[e];if(""===n.number||n.error)return void t.SetSuccessValue(!1)}t.SetSuccessValue(!0)},this.CleanDuplicated=function(){for(var e=0;e<t.list.length;e++){t.list[e].SetValueError(!1)}},this.CheckDuplicates=function(){for(var e=0,n=0;n<3;n++)for(var a=0;a<3;a++){var r=t.matrix[n][a].checklist;e+=t.MarkDuplicates(r);var i=t.verticallines[n][a];e+=t.MarkDuplicates(i);var o=t.horizontallines[n][a];e+=t.MarkDuplicates(o)}return e},this.MarkDuplicates=function(e){for(var n=0,a=0;a<e.length;a++){var r=e[a];t.duplicated(e,r.number)&&(r.SetValueError(!0),n++)}return n},this.duplicated=function(e,t){return e.reduce((function(e,n){return e+(""!==t&&n.number===t)}),0)>1},this.EmptySpaces=function(e,n){for(var a=0;a<3;a++)for(var r=0;r<3;r++)t.emptyspaces.push([e,n,a,r])},this.CreateEmptyBoard()}));t.a=u},78:function(e,t,n){e.exports=n(87)},87:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(27),o=n.n(i),l=n(20),c=n(66),s=n(128),u=n(129),f=n(127),h=n(64),m=n.n(h),v=n(63),d=n.n(v),p=n(65),b=n.n(p),g=n(119),k=n(121),S=n(118),E=n(120),O=n(94),y=Object(a.lazy)((function(){return n.e(0).then(n.bind(null,158))})),w=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,152))})),j=Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function C(e){var t=j();return r.a.createElement("div",{className:t.root},r.a.createElement(g.a,{position:"static"},r.a.createElement(E.a,null,r.a.createElement(O.a,{variant:"h6",className:t.title}," Sudoku "),r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(w,e)),r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(y,e)))),r.a.createElement(k.a,null,e.children))}var x=n(60),B=n(16),D=n(123),L=n(122),R=n(124),A=n(131),M=n(130),U=n(48),z=n.n(U),N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function V(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");N?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):F(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):F(t,e)}))}}function F(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var q=function(e){var t=e.Message,n=e.setMessage,a=e.waitingServiceWorker,i=e.installPrompt,o=e.setInstalled,l=function(e,t){"clickaway"!==t&&n("")},c=r.a.createElement("div",null);"INSTALL"===t&&(c=r.a.createElement(M.a,{elevation:6,variant:"filled",severity:"success",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{color:"inherit",size:"small",onClick:function(){i&&(i.prompt(),i.userChoice.then((function(e){"accepted"===e.outcome?console.log("User accepted the install prompt"):(o(!0),B.a.set("installed",!0),console.log("User dismissed the install prompt"))}))),n("")}}," INSTALL "),r.a.createElement(L.a,{color:"inherit",size:"small",onClick:function(){o(!0),B.a.set("installed",!0),n("")}},r.a.createElement(z.a,{fontSize:"small"})))},"App Mode Available. You can install this game as an app.")),"UPDATE"===t&&(c=r.a.createElement(M.a,{elevation:6,variant:"filled",severity:"info",action:r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{color:"inherit",size:"small",onClick:function(){a&&a.postMessage({type:"SKIP_WAITING"}),n("")}}," UPDATE "),r.a.createElement(L.a,{color:"inherit",size:"small",onClick:l},r.a.createElement(z.a,{fontSize:"small"})))},"Update Available!")),"OFFLINE"===t&&(c=r.a.createElement(M.a,{elevation:6,variant:"filled",severity:"success",onClose:l},"Offline Mode Available! Now you can play even if you're offline."));return r.a.createElement(A.a,{open:""!==t,onClose:l,anchorOrigin:{vertical:"top",horizontal:"center"},TransitionComponent:function(e){return r.a.createElement(R.a,Object.assign({},e,{direction:"up"}))}},c)},I=function(){var e=r.a.useState(""),t=Object(l.a)(e,2),n=t[0],a=t[1],i=r.a.useState(null),o=Object(l.a)(i,2),c=o[0],s=o[1],u=r.a.useState(null),f=Object(l.a)(u,2),h=f[0],m=f[1],v=r.a.useState(B.a.get("installed",!1)),d=Object(l.a)(v,2),p=d[0],b=d[1];return r.a.useEffect((function(){V({onOpen:function(){""===n&&a("OFFLINE")},onUpdate:function(e){s(e.waiting),a("UPDATE")}})}),[n]),r.a.useEffect((function(){window.addEventListener("beforeinstallprompt",(function(e){localStorage&&(e.preventDefault(),m(e),"UPDATE"===n||p||a("INSTALL"))}))}),[n,p]),r.a.useEffect((function(){c&&c.addEventListener("statechange",(function(e){"activated"===e.target.state&&window.location.reload()}))}),[c]),r.a.createElement(q,{setInstalled:b,Message:n,setMessage:a,waitingServiceWorker:c,installPrompt:h})},T=Object(a.lazy)((function(){return Promise.all([n.e(4),n.e(8)]).then(n.bind(null,157))})),W=B.a.get("sudoku_board",null),P=new x.a(45,W);var _=function(){var e=r.a.useState(B.a.get("difficulty",45)),t=Object(l.a)(e,2),n=t[0],i=t[1],o=r.a.useState(B.a.get("dark_mode",Object(f.a)("(prefers-color-scheme: dark)"))),h=Object(l.a)(o,2),v=h[0],p=h[1],g=r.a.useMemo((function(){return Object(c.a)({palette:{primary:{main:v?d.a[800]:m.a[800]},secondary:{main:b.a[500]},type:v?"dark":"light"}})}),[v]),k=function(){B.a.set("difficulty",n)};return r.a.useEffect((function(){return window.addEventListener("beforeunload",k),function(){return window.removeEventListener("beforeunload",k)}})),r.a.createElement(s.a,{theme:g},r.a.createElement(u.a,null),r.a.createElement(I,null),r.a.createElement(C,{board:P,Difficulty:n,setDifficulty:i,DarkMode:v,SetDarkMode:p},r.a.createElement(a.Suspense,{fallback:null},r.a.createElement(T,{board:P,Difficulty:n,setDifficulty:i}))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root"))}},[[78,2,3]]]);
//# sourceMappingURL=main.618c17c8.chunk.js.map